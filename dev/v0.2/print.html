<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Hexatomic Developer &amp; Maintainer Documentation</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><a href="development/index.html"><strong aria-hidden="true">2.</strong> Development</a></li><li><ol class="section"><li><a href="development/setup.html"><strong aria-hidden="true">2.1.</strong> Development setup</a></li><li><ol class="section"><li><a href="development/getting-the-source-code.html"><strong aria-hidden="true">2.1.1.</strong> Getting the source code</a></li><li><a href="development/running-debugging-with-eclipse.html"><strong aria-hidden="true">2.1.2.</strong> Running and debugging Hexatomic in Eclipse</a></li></ol></li><li><a href="development/workflow/index.html"><strong aria-hidden="true">2.2.</strong> Workflow</a></li><li><ol class="section"><li><a href="development/workflow/repositories.html"><strong aria-hidden="true">2.2.1.</strong> Repositories</a></li><li><a href="development/workflow/setup.html"><strong aria-hidden="true">2.2.2.</strong> Project setup</a></li></ol></li><li><a href="development/data-model/index.html"><strong aria-hidden="true">2.3.</strong> Data model</a></li><li><a href="development/logging-error-handling.html"><strong aria-hidden="true">2.4.</strong> Logging and error handling</a></li><li><a href="development/add-new-editor.html"><strong aria-hidden="true">2.5.</strong> Adding a new editor</a></li></ol></li><li><a href="maintenance/index.html"><strong aria-hidden="true">3.</strong> Maintenance</a></li><li><ol class="section"><li><a href="maintenance/versioning/index.html"><strong aria-hidden="true">3.1.</strong> Versioning</a></li><li><a href="maintenance/licensing/index.html"><strong aria-hidden="true">3.2.</strong> Licensing</a></li><li><ol class="section"><li><a href="maintenance/pull-requests/index.html"><strong aria-hidden="true">3.2.1.</strong> Pull requests</a></li><li><ol class="section"><li><a href="maintenance/pull-requests/checklist.html"><strong aria-hidden="true">3.2.1.1.</strong> Checklist</a></li></ol></li><li><a href="maintenance/releases/index.html"><strong aria-hidden="true">3.2.2.</strong> Releases</a></li><li><ol class="section"><li><a href="maintenance/releases/checklist.html"><strong aria-hidden="true">3.2.2.1.</strong> Checklist</a></li></ol></li></ol></li></ol></li><li><a href="governance.html"><strong aria-hidden="true">4.</strong> Governance</a></li><li><a href="LICENSE.html"><strong aria-hidden="true">5.</strong> License</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Hexatomic Developer &amp; Maintainer Documentation</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p>This is documentation for developers and maintainers of Hexatomic.</p>
<p>If you are looking for documentation of how to <em>use</em> Hexatomic, 
please refer to the <a href="../user/"><strong>user documentation</strong></a>.</p>
<h2><a class="header" href="#contributing-to-hexatomic-development" id="contributing-to-hexatomic-development">Contributing to Hexatomic development</a></h2>
<p>Hexatomic is an <a href="https://github.com/hexatomic/hexatomic/tree/master/LICENSE">open source project</a>. 
We welcome contributions from the community.</p>
<p>If you want to <strong>contribute code</strong> to Hexatomic, please make yourself familiar with the general <a href="https://github.com/hexatomic/hexatomic/tree/master/CONTRIBUTING.md"><em><strong>contributing guidelines</strong></em></a> first, then continue to read this documentation.</p>
<p>The contributing guidelines also include information on how to <strong>report a bug</strong>, <strong>request a feature</strong>, etc.</p>
<h2><a class="header" href="#requirements" id="requirements">Requirements</a></h2>
<p>Hexatomic is an Eclipse e4 application, built on the <strong>Eclipse Platform</strong> for rich client applications, and implemented in <strong>Java</strong>.
It is built with <strong>Apache Maven</strong> and the <strong>Eclipse Tycho</strong> extension, and versioned with <strong>Git</strong>.</p>
<p>It will be easier for you to contribute to Hexatomic if you already have some experience with these technologies.</p>
<p>Here are links to some resources that can help you get started:</p>
<ul>
<li><a href="http://web.archive.org/web/20190815125800/https://docs.oracle.com/javase/tutorial/">Java 8 tutorials</a> by Oracle</li>
<li><a href="http://web.archive.org/web/20190815125723/https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html">Maven in 5 minutes - Tutorial</a> by the Apache Software Foundation</li>
<li><a href="http://web.archive.org/web/20190807184652/https://www.vogella.com/tutorials/EclipseRCP/article.html">Eclipse RCP (Rich Client Platform) - Tutorial</a> by Lars Vogel</li>
<li><a href="http://web.archive.org/web/20190801113418/https://www.vogella.com/tutorials/EclipseTycho/article.html">Eclipse Tycho for building plug-ins, OSGi bundles and Eclipse applications - Tutorial</a> by 
Lars Vogel and Simon Scholz</li>
<li><a href="https://www.eclipse.org/swt/">Standard Widget Toolkit (SWT)</a> for developing user interfaces in Eclipse-based applications</li>
<li><a href="https://swcarpentry.github.io/git-novice/">Version Control with Git - Software Carpentry lesson</a> by Daisie Huang and Ivan Gonzalez<sup class="footnote-reference"><a href="#git-cite">1</a></sup></li>
</ul>
<h2><a class="header" href="#license" id="license">License</a></h2>
<p><img src="https://img.shields.io/badge/CC0-1.0%20Universal-yellowgreen?logo=creative-commons" alt="" /><br />
Unless otherwise noted, this documentation is licensed under a <a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0 1.0 Universal (CC0 1.0)</a> license. Please see the section <a href="./LICENSE.html">License</a> for details.</p>
<hr />
<div class="footnote-definition" id="git-cite"><sup class="footnote-definition-label">1</sup>
<p>Daisie Huang and Ivan Gonzalez (eds): &quot;Software Carpentry: Version Control with Git.&quot; Version 2016.06, June 2016, <a href="https://github.com/swcarpentry/git-novice">https://github.com/swcarpentry/git-novice</a>, doi:<a href="https://doi.org/10.5281/zenodo.57467">https://doi.org/10.5281/zenodo.57467</a></p>
</div>
<h1><a class="header" href="#development" id="development">Development</a></h1>
<h1><a class="header" href="#development-setup" id="development-setup">Development setup</a></h1>
<h2><a class="header" href="#operating-system-for-development" id="operating-system-for-development">Operating system for development</a></h2>
<p>You can develop and build Hexatomic on Linux, Mac OS and Windows.
We suggest that you use <strong>Linux</strong> for development, to avoid non-straightforward install procedures for required technologies as well as potential issues with file encodings, paths, and file permissions.</p>
<h2><a class="header" href="#required-software" id="required-software">Required software</a></h2>
<p>Hexatomic is implemented in <strong>Java</strong>, built with <strong>Apache Maven</strong>, and versioned with <strong>Git</strong>.
You need all three on your computer to contribute code to Hexatomic.</p>
<p>The documentation is written in Markdown and generated with <strong>mdbook</strong>.</p>
<h3><a class="header" href="#java-18" id="java-18">Java 1.8</a></h3>
<p>You need to have a copy of the <strong>Java Development Kit (JDK), Version 1.8</strong> (sometimes referred to as <em>Java 8</em>) installed on your computer.
It shouldn't make any difference whether you use the open <em>OpenJDK</em> implementation of Java, or an <em>Oracle JDK</em>.
We suggest that you use <strong>OpenJDK</strong> in its latest build (which was <code>1.8u232</code> at the time of writing).
See the <a href="https://wiki.openjdk.java.net/display/jdk8u/Main">OpenJDK 8 Updates site</a> to find out what the currently latest build is.
OpenJDK is included in the package management repositories (dpkg (via apt), RPM, etc.) of most Linux distributions.
For stand-alone packages, you can use the installers distributed by the <a href="https://adoptopenjdk.net">AdoptOpenJDK project</a>.
AdoptOpenJDK packages are are available for Windows, MacOS, and Linux.</p>
<p>You can check which version of Java you have installed by typing the following command into the terminal of your computer:</p>
<pre><code class="language-bash">java -version
</code></pre>
<p>On Linux, this should produce the following output. The second line may look different, depending on the Linux distribution you use.</p>
<pre><code class="language-bash">openjdk version &quot;1.8.0_222&quot;
OpenJDK Runtime Environment (build 1.8.0_222-8u222-b10-1ubuntu1~18.04.1-b10)
OpenJDK 64-Bit Server VM (build 25.222-b10, mixed mode)
</code></pre>
<h3><a class="header" href="#apache-maven" id="apache-maven">Apache Maven</a></h3>
<p>You need to have a copy of <strong>Apache Maven</strong> in <strong>version 3.6.0 or newer</strong> installed on your computer.
To find out how to install Maven on your system, please see the <a href="https://maven.apache.org/">Apache Maven website</a>.</p>
<p>You can check which version of Maven you have installed by typing the following command into the terminal of your computer:</p>
<pre><code class="language-bash">mvn -version
</code></pre>
<p>On Linux, this should produce the following output. The first line is the important one, the other ones may look different, depending on the Linux distribution you use.</p>
<pre><code class="language-bash">Apache Maven 3.6.0
Maven home: /usr/share/maven
Java version: 1.8.0_222, vendor: Private Build, runtime: /usr/lib/jvm/java-8-openjdk-amd64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: &quot;linux&quot;, version: &quot;5.0.0-23-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;
</code></pre>
<h3><a class="header" href="#git" id="git">Git</a></h3>
<p>You need to have a copy of <strong>Git</strong> in <strong>version 2.17.1 or newer</strong> installed on your computer.
To find out how to install Git on your system, please see the <a href="https://git-scm.com/">Git website</a>.</p>
<p>You can check which version of Git you have installed by typing the following command into the terminal of your computer:</p>
<pre><code class="language-bash">git --version
</code></pre>
<p>On Linux, this should produce the following output.</p>
<pre><code class="language-bash">git version 2.17.1
</code></pre>
<h3><a class="header" href="#mdbook" id="mdbook">mdbook</a></h3>
<p><strong>If you want to build the documentation online book locally</strong> to, e.g., see your changes as they will look like online, 
you need to have a copy of <strong>mdbook, version 0.3.1 or newer</strong> installed on your computer.
To find out how to install mdbook on your system, please see the <a href="https://github.com/rust-lang-nursery/mdBook">mdbook website</a>.</p>
<p>You can check which version of mdbook you have installed by typing the following command into the terminal of your computer:</p>
<pre><code class="language-bash">mdbook --version
</code></pre>
<p>On Linux, this should produce the following output.</p>
<pre><code class="language-bash">mdbook v0.3.1
</code></pre>
<h2><a class="header" href="#suggested-editor-eclipse-integrated-development-environment-ide" id="suggested-editor-eclipse-integrated-development-environment-ide">Suggested editor: Eclipse Integrated Development Environment (IDE)</a></h2>
<p>Hexatomic is built on the Eclipse 4 Platform, and takes the form of an Eclipse product composed of Eclipse plugins and Eclipse features.
While you can certainly write your Java, XML, Markdown, etc., in any editor of your choice, we suggest that you use the free and open source <strong>Eclipse IDE, version 2019-06 or newer</strong>.</p>
<p>You can download it from the <a href="https://www.eclipse.org/downloads/">Eclipse download website</a>.</p>
<h3><a class="header" href="#eclipse-ide-installation" id="eclipse-ide-installation">Eclipse IDE installation</a></h3>
<p>The download contains an installer which lets you configure the setup of your IDE.
To develop Hexatomic, you will need to install <a href="https://www.eclipse.org/downloads/packages/release/2019-06/r/eclipse-ide-rcp-and-rap-developers">Eclipse IDE for RCP and RAP Developers</a>:</p>
<ul>
<li>Extract the downloaded file.</li>
<li>Start the Eclipse installer (<code>eclipse-inst</code>).</li>
<li>From the list of available Eclipse packages, choose <strong>Eclipse IDE for RCP and RAP Developers</strong>.</li>
</ul>
<p>During the installation, accept licenses, set directories, etc., as you see fit.</p>
<p>After you have installed the IDE itself, install the required tool plugins.</p>
<h3><a class="header" href="#ide-plugin-installation" id="ide-plugin-installation">IDE Plugin installation</a></h3>
<p>If not noted otherwise, Eclipse plugins are installed as follows:</p>
<ul>
<li>Open the <em>Install Wizard</em> via the menu <strong>Help &gt; Install New Software...</strong></li>
<li>In the <strong>Work with:</strong> field, enter the URL of the Update Site for the plugin, given in brackets below.</li>
<li>Select the plugins you want to install, and install it with the help of the wizard.</li>
</ul>
<h3><a class="header" href="#list-of-eclipse-ide-plugins-required-for-hexatomic-development" id="list-of-eclipse-ide-plugins-required-for-hexatomic-development">List of Eclipse IDE plugins required for Hexatomic development</a></h3>
<ul>
<li><a href="https://github.com/eclipse-cbi/targetplatform-dsl"><strong>Target Platform Definition DSL and Generator</strong></a>, <strong>version 3.0.0-SNAPSHOT or newer</strong><br />
(Update Site: <a href="http://download.eclipse.org/cbi/tpd/3.0.0-SNAPSHOT/">http://download.eclipse.org/cbi/tpd/3.0.0-SNAPSHOT/</a>)</li>
</ul>
<h1><a class="header" href="#getting-the-source-code" id="getting-the-source-code">Getting the source code</a></h1>
<p>The Hexatomic source code is hosted on GitHub at <i class="fa fa-github"></i> <a href="https://github.com/hexatomic/hexatomic">https://github.com/hexatomic/hexatomic</a>.</p>
<p>You don't have direct write permissions to this main source code repository, unless you are a <a href="https://github.com/hexatomic/hexatomic#core-contributors">core contributor</a>.
This means that you will make your changes in your own copy (<em>fork</em>) of the repository, and request that we merge your changes into the main code base when you are finished (<em>pull request</em>).<sup class="footnote-reference"><a href="#workflow">1</a></sup></p>
<h2><a class="header" href="#downloading-the-source-code-to-your-computer" id="downloading-the-source-code-to-your-computer">Downloading the source code to your computer</a></h2>
<p>First, you need to create a fork of the Hexatomic main repository on GitHub:</p>
<ol>
<li>Log in to your GitHub account (<a href="https://github.com/login">github.com/login</a>).</li>
<li>Go to <a href="https://github.com/hexatomic/hexatomic">https://github.com/hexatomic/hexatomic</a>, and click the <strong><i class="fa fa-code-fork"></i> Fork</strong> button in the upper right-hand corner of the repository page. This will create a copy of the repository under your own account.</li>
</ol>
<p>To download the source code onto your computer and put it under local version control with Git, type the following command into the terminal of your computer:</p>
<pre><code class="language-bash">git clone https://github.com/&lt;your-GitHub-user-name&gt;/hexatomic.git
</code></pre>
<p>It will download the latest version of the source code in the <code>master</code> branch to a sub-directory <code>hexatomic</code>,
along with the complete Git version history.</p>
<p>For your actual contribution, you will need to create a new Git branch, but this is explained in detail in section <a href="development/./workflow/">Workflow</a>.
For now, all that is left to do is get the Hexatomic source code into your IDE.</p>
<h2><a class="header" href="#getting-the-source-code-into-the-eclipse-ide" id="getting-the-source-code-into-the-eclipse-ide">Getting the source code into the Eclipse IDE</a></h2>
<p>If you have set up the Eclipse IDE for development of Hexatomic, as described in the section <a href="development/./setup.html#suggested-editor-eclipse-integrated-development-environment-ide">Development setup</a>, you will have to import the source code from your local
Git repository.</p>
<p>To import the Hexatomic into your Eclipse IDE, do the following:</p>
<ol>
<li>Start Eclipse</li>
<li>Open the <strong>Import</strong> window via the menu <strong>File</strong> &gt; <strong>Import</strong></li>
<li>Select the import wizard <strong>Existing Projects into Workspace</strong> and click <strong>Next &gt;</strong></li>
<li>In <strong>Select root directory</strong>, select the directory where you have downloaded the Hexatomic source code to (the Git <em>root</em>)</li>
<li>In the <strong>Options</strong> section of the window, activate <strong>Search for nested projects</strong></li>
<li>Click <strong>Finish</strong></li>
</ol>
<p>Congratulations, you are now set up to start contributing to Hexatomic!</p>
<p>Before starting to work on your contribution, please read the section <a href="development/./workflow/">Workflow</a> carefully.</p>
<hr />
<div class="footnote-definition" id="workflow"><sup class="footnote-definition-label">1</sup>
<p>For more info on <em>forks</em> and <em>pull requests</em>, read the section <a href="development/./workflow/">Workflow</a>.</p>
</div>
<h1><a class="header" href="#running-and-debugging-hexatomic-in-eclipse" id="running-and-debugging-hexatomic-in-eclipse">Running and debugging Hexatomic in Eclipse</a></h1>
<p>Hexatomic is a modular project, and while it is possible to debug a user-defined subset of its bundles,
it may be more useful to debug the complete application.</p>
<p>To run or debug Hexatomic from within the Eclipse IDE, with all the features and bundles, you have to open the  <code>org.corpus_tools.hexatomic.product</code> project which contains the Hexatomic product definition.
In this project, open the <code>org.corpus_tools.hexatomic.product</code> file in Eclipse.</p>
<p><img src="development/./product-file-location.png" alt="Location of the product definition file in the Project Explorer" /></p>
<p>To debug Hexatomic, click on the <code>Launch an Eclipse application in Debug mode</code> link in the overview tab of the Product Configuration Editor.
To run the product without debugging, click <code>Launch an Eclipse application</code> on the same page.
If you don't see the Product Configuration Editor, you may have opened the file with a different editor instead.
In this case, right-click on the <code>org.corpus_tools.hexatomic.product</code> file, and choose <em>Open With</em> &gt; <em>Product Configuration Editor</em>.</p>
<p><img src="development/./product-launch.png" alt="Product configuration file editor with launch links" /></p>
<h1><a class="header" href="#development-workflow" id="development-workflow">Development workflow</a></h1>
<blockquote>
<p><strong>Summary</strong></p>
<ul>
<li>We use <a href="http://web.archive.org/web/20190821195236/https://nvie.com/posts/a-successful-git-branching-model/">Gitflow</a> for developing Hexatomic,
with the <a href="https://github.com/aleksandr-m/gitflow-maven-plugin">Maven plugin for Gitflow</a>.</li>
<li>To contribute <strong>new functionality</strong>, create a feature branch by running <code>mvn gitflow:feature-start</code> in the repository root, and create a <a href="http://web.archive.org/web/20190822091222/https://github.blog/2019-02-14-introducing-draft-pull-requests/"><em>draft pull request</em></a> against <strong><code>develop</code></strong> on <a href="https://github.com/hexatomic/hexatomic">https://github.com/hexatomic/hexatomic</a>.</li>
<li>To contribute a <strong>bug fix, add to documentation, change relesae engineering</strong>, create a hotfix branch by running <code>mvn gitflow:hotfix-start</code> in the repository root, and create a <a href="http://web.archive.org/web/20190822091222/https://github.blog/2019-02-14-introducing-draft-pull-requests/"><em>draft pull request</em></a> against <strong><code>master</code></strong> on <a href="https://github.com/hexatomic/hexatomic">https://github.com/hexatomic/hexatomic</a>.</li>
<li>Describe your changes in the pull request title and complete the pull request form.</li>
<li>When you think that your contribution is good to be merged into the main repository, change the pull request status to <strong>Ready for review</strong>.</li>
<li>Collaborate with the maintainer to fulfill any missing requirements and to merge your changes into the main repository.</li>
</ul>
</blockquote>
<p>Hexatomic follows a common development workflow: Gitflow. It is a development workflow that works with a specific Git branch structure, and is actually quite simple to understand and follow, and based on just a few rules.
Also, Hexatomic actually uses a <a href="development/workflow/index.html#maven-plugin-for-gitflow">Maven plugin for Gitflow</a>, which makes it really easy to work with Gitflow.</p>
<p>If you are interested in learning more about Gitflow, read the <a href="http://web.archive.org/web/20190821195236/https://nvie.com/posts/a-successful-git-branching-model/">original blog post describing it</a>. The figure below gives an overview of the complete Gitflow workflow.</p>
<hr />
<p><a href="http://web.archive.org/web/20190821195236/https://nvie.com/files/Git-branching-model.pdf"><img src="development/workflow/gitflow.png" alt="" /></a><br />
<em><strong>Figure:</strong></em> <strong>Git branching model overview.</strong> Graphic by Vincent Driessen from the original blog post <a href="http://nvie.com/archives/323">&quot;A successful Git branching model&quot;</a>. Licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA license</a>. <img src="https://img.shields.io/badge/CC-BY%20SA-yellowgreen?logo=creative-commons" alt="" /></p>
<hr />
<h2><a class="header" href="#the-gitflow-branching-model" id="the-gitflow-branching-model">The Gitflow branching model</a></h2>
<p>Gitflow assumes that there is a single, central &quot;repository of truth&quot;.
In our case, this is the main repository at <a href="https://github.com/hexatomic/hexatomic">https://github.com/hexatomic/hexatomic</a>.</p>
<h3><a class="header" href="#main-branches" id="main-branches">Main branches</a></h3>
<p>In the repository, there are two <strong>main branches</strong> that <em>always</em> exist and have an <em>infinite lifetime</em>:</p>
<ul>
<li><strong><code>master</code></strong></li>
<li><strong><code>develop</code></strong></li>
</ul>
<p>The <code>master</code> branch always reflects the <strong>production-ready</strong> state.
In other words, <code>master</code> will always contain the <em>releases</em> of Hexatomic,
and any changes that are merged into <code>master</code> are releases.</p>
<p>The <code>develop</code> branch always contains the latest <strong>finished development changes</strong>.
That means, whenever a feature is ready to be released, it is merged into <code>develop</code>
to wait for the next release (which will then contain the new feature).</p>
<h3><a class="header" href="#branches-you-do-your-work-in" id="branches-you-do-your-work-in">Branches you do your work in</a></h3>
<p>In Gitflow, there are two types of branches where the actual work is happening:</p>
<ul>
<li><strong><code>feature</code> branches</strong> are used for developing new functionality.</li>
<li><strong><code>hotfix</code> branches</strong> are used to fix bugs in releases, and to fix documentation and release engineering for releases without actually changing functionality.</li>
</ul>
<p><strong>This is an important distinction</strong>, because depending on what type of contribution you want to make, it means that you have to start your work by running different commands.</p>
<h4><a class="header" href="#contribute-new-functionality-feature" id="contribute-new-functionality-feature">Contribute new functionality (<em>feature</em>)</a></h4>
<p>To contribute new functionality to Hexatomic, create a feature branch which is based on the <code>develop</code> branch.</p>
<ol>
<li>Download the <code>develop</code> branch from your fork repository:</li>
</ol>
<pre><code class="language-bash"># Download the contents of the remote `develop` branch (and others) to your local repository
git fetch
# Switch to the local branch `develop`
git checkout develop 
</code></pre>
<ol start="2">
<li>Create the new feature branch:</li>
</ol>
<pre><code class="language-bash">mvn gitflow:feature-start
</code></pre>
<ol start="3">
<li>Give the feature branch a name as prompted by the Maven Gitflow plugin.</li>
<li><a href="development/workflow/index.html#create-a-pull-request-for-your-contribution-before-you-start-working">Create a draft pull request</a> against the <code>develop</code> branch of <a href="https://github.com/hexatomic/hexatomic">https://github.com/hexatomic/hexatomic</a> and start working.</li>
</ol>
<h4><a class="header" href="#contribute-a-bug-documentation-or-release-engineering-fix-for-a-released-version-hotfix" id="contribute-a-bug-documentation-or-release-engineering-fix-for-a-released-version-hotfix">Contribute a bug, documentation, or release engineering fix for a released version (<em>hotfix</em>)</a></h4>
<p>To contribute new a bug, documentation, or release engineering fix to Hexatomic, create a hotfix branch which is based on the <code>master</code> branch.</p>
<ol>
<li>Create the new feature branch:</li>
</ol>
<pre><code class="language-bash">mvn gitflow:hotfix-start
</code></pre>
<ol start="2">
<li>Give the hotfix branch a name as prompted by the Maven Gitflow plugin.</li>
<li><a href="development/workflow/index.html#create-a-pull-request-for-your-contribution-before-you-start-working">Create a draft pull request</a> against the <code>master</code> branch of <a href="https://github.com/hexatomic/hexatomic">https://github.com/hexatomic/hexatomic</a> and start working.</li>
</ol>
<h2><a class="header" href="#create-a-pull-request-for-your-contribution-before-you-start-working" id="create-a-pull-request-for-your-contribution-before-you-start-working">Create a pull request for your contribution before you start working</a></h2>
<p>Once you are ready to start working on your contribution, it's time to let the Hexatomic maintainer know about it, so that they can discuss the new changes and provide comments and support while you work.
The way to do this is via a <a href="https://help.github.com/en/articles/about-pull-requests">pull request on GitHub</a>.
Pull requests (<em>PR</em>s) aren't part of Git as such, but a feature of the GitHub platform.</p>
<p>This is how you start a <a href="http://web.archive.org/web/20190822091222/https://github.blog/2019-02-14-introducing-draft-pull-requests/">draft pull request</a>:</p>
<ol>
<li>Go to <a href="https://github.com">https://github.com</a> and log in.</li>
<li>In your fork of the Hexatomic main repository (<code>github.com/&lt;your-user-name&gt;/hexatomic</code>), select the branch you have been working on via the <strong>Branches</strong> tab or the <strong>Branch</strong> dropdown menu.</li>
<li>Click the button <strong>New pull request</strong>. It's next to the <em>Branch</em> dropdown menu.</li>
<li><strong>Set the correct target of the pull request</strong>:
<ul>
<li>For <em>features</em>, the base repository is <code>hexatomic/hexatomic</code> and the <strong>base branch is <code>develop</code></strong>, the <em>compare</em> branch is your feature branch.</li>
<li>For <em>hotfixes</em>, the base repository is <code>hexatomic/hexatomic</code> and the <strong>base branch is <code>master</code></strong>, the <em>compare</em> branch is your hotfix branch.</li>
</ul>
</li>
<li>Click the <strong>Create pull request</strong> button.</li>
<li>Give your pull request a <strong>meaningful title</strong> describing your changes.</li>
<li><strong>Complete the pull request form</strong> in the editor window.</li>
<li>From the green dropdown menu below the editor, select <strong>Draft pull request</strong>.</li>
<li>Make sure that <strong>Allow edits from maintainers</strong> is activated.</li>
<li>Click the <strong>Draft pull request</strong> button to create your pull request.</li>
</ol>
<p>Now, anytime you push a new commit to your feature branch, it will also show up in the pull request located in the Hexatomic main repository.
This way, the Hexatomic maintainer can track progress, review changes as soon as they come in, and discuss changes with you.</p>
<hr />
<h2><a class="header" href="#naming-conventions" id="naming-conventions">Naming conventions</a></h2>
<p><code>TODO FIXME BELOW</code></p>
<ul>
<li>Plugin projects are called <code>org.corpus_tools.hexatomic.&lt;plugin-name&gt;</code> and are stored in <code>/bundles/org.corpus_tools.hexatomic.&lt;plugin-name&gt;</code>.</li>
<li>Feature projects are called <code>org.corpus_tools.hexatomic.&lt;feature-name&gt;.feature</code> with an identifier of <code>org.corpus_tools.hexatomic.&lt;feature-name&gt;</code>, and 
are stored in <code>features/org.corpus_tools.hexatomic.&lt;feature-name&gt;</code>.</li>
</ul>
<h2><a class="header" href="#checklist-for-pull-requests" id="checklist-for-pull-requests">Checklist for pull requests</a></h2>
<h2><a class="header" href="#when-to-release-a-hotfix-and-when-to-release-a-feature" id="when-to-release-a-hotfix-and-when-to-release-a-feature">When to release a hotfix, and when to release a feature</a></h2>
<p><code>TODO FIXME BELOW</code></p>
<ul>
<li>All bug fixes <em>on a released version</em> are hotfixes, as the bugs appear in master</li>
<li>develop is always right</li>
<li>develop collects features</li>
<li>JGitFlow: ALWAYS start hotfixes from <code>master</code>!!!</li>
</ul>
<p><code>TODO FIXME ABOVE</code></p>
<p>Within the Hexatomic project, <em>hotfixes</em> are changes that are made to a deployed major or minor release. 
These obviously include functional changes (i.e., bug fixes), but also non-functional changes to Hexatomic, such as updating the documentation to reflect the latest released version, updating the release workflow, etc.</p>
<p><em>Features</em> are changes that introduce new functionality to the software, while the existing functionality keeps working.</p>
<p>The following table gives some examples.</p>
<table><thead><tr><th>Feature</th><th>Hotfix</th></tr></thead><tbody>
<tr><td>Add a new editor</td><td>Fix a bug in an existing editor</td></tr>
<tr><td>Add new functionality to an editor</td><td>Fix unwanted behaviour in the release workflow</td></tr>
<tr><td>Add other functionality</td><td>Update the documentation to reflect the last release</td></tr>
<tr><td></td><td>Update documentation to reflect changes in the development workflow</td></tr>
</tbody></table>
<p>It is important to note that <strong>all bug fixes that are made <em>on a released version</em> are hotfixes</strong>, 
and that <strong>the <code>develop</code> branch always contains the truth</strong>, i.e., always holds the stage of development against which all features must be developed.
Implementation of new functionality must <strong>always</strong> start with a branch from <code>develop</code> via <code>mvn gitflow:feature-start</code>!
Do not base your work on any other <code>feature/...</code> or other branches.
Finished features are collected in <code>develop</code> before release.</p>
<h1><a class="header" href="#repositories" id="repositories">Repositories</a></h1>
<h1><a class="header" href="#project-setup" id="project-setup">Project setup</a></h1>
<blockquote>
<p>TODO Merge with repositories.md</p>
</blockquote>
<p><strong>Repository structure of <a href="https://github.com/hexatomic/hexatomic"><code>hexatomic/hexatomic</code></a>:</strong></p>
<ul>
<li><strong>Root directory</strong>
<ul>
<li>main POM</li>
<li><code>.travis.yml</code> (<a href="https://travis-ci.org/">Travis CI</a> config)</li>
<li>Meta files (<code>.gitignore</code>, <code>README.md</code>, <code>LICENSE</code>, <code>CONTRIBUTING.md</code>, <code>CODE_OF_CONDUCT.md</code>, etc.)</li>
</ul>
</li>
<li><strong><code>bundles</code></strong>
<ul>
<li>plug-in sub-projects</li>
</ul>
</li>
<li><strong><code>features</code></strong>
<ul>
<li>feature sub-projects</li>
</ul>
</li>
<li><strong><code>docs</code></strong>
<ul>
<li>source files for user and developer/maintainer documentation</li>
</ul>
</li>
<li><strong><code>releng</code></strong>
<ul>
<li>configuration and release engineering files</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#setup-details" id="setup-details">Setup details</a></h2>
<p>The Hexatomic project in the <code>hexatomic/hexatomic</code> repository is set up generally
along the lines of <a href="http://web.archive.org/web/20190801113418/https://www.vogella.com/tutorials/EclipseTycho/article.html">Eclipse Tycho for building plug-ins, OSGi bundles and Eclipse applications - Tutorial</a> by 
Lars Vogel and Simon Scholz, Version 13.03.2019, and <a href="http://web.archive.org/web/20190807184652/https://www.vogella.com/tutorials/EclipseRCP/article.html">Eclipse RCP (Rich Client Platform) - Tutorial</a> by Lars Vogel, Version 10.12.2018.</p>
<p>This means that</p>
<ol>
<li>It is <strong>built using <a href="http://web.archive.org/web/20190807185333/https://www.eclipse.org/tycho/">Eclipse Tycho</a></strong>, a plugin for the <a href="http://web.archive.org/web/20190806000707/https://maven.apache.org/">Maven build system</a>.</li>
<li><strong>Plug-ins</strong>, i.e., units that encapsulate well-defined functionality, are located in the <a href="https://github.com/hexatomic/hexatomic/tree/master/bundles/"><code>bundles</code></a> directory.</li>
<li><strong>Features</strong>, i.e., units that integrate one or more plug-ins, are located in the <a href="https://github.com/hexatomic/hexatomic/tree/feature/0.1.0/features/"><code>features</code></a> directory.</li>
<li><strong>Configuration and release engineering</strong>-related files are located in the <a href="https://github.com/hexatomic/hexatomic/tree/feature/0.1.0/releng/"><code>releng</code></a> directory. This includes:
<ul>
<li>Project configuration (for packaging, target platform configuration, etc.)</li>
<li><em>Product</em> definition; in the Eclipse world, products are units that in turn integrate one or more features to define a deliverable software.</li>
<li><em>Target platform</em> definition; the target platform defines the features and plug-ins that Hexatomic is built on top of (<em>against</em>).</li>
<li><em>Update site</em> definition; Hexatomic's features and plug-ins are provided 
<ol>
<li>through a repository in the <a href="http://web.archive.org/web/20190807191916/https://www.eclipse.org/equinox/p2/">p2 repository format</a>, from which Hexatomic can be updated automatically and manually from within the application; and</li>
<li>As deployable units, i.e., the actual zip files that users will download in order to get Hexatomic.</li>
</ol>
</li>
<li>Miscellanea, e.g., shell scripts for deploying artifacts, etc. </li>
</ul>
</li>
<li>It uses <strong>pomless builds</strong>, i.e., not every single plug-in or feature needs its own build definition XML file (<code>pom.xml</code>), which saves a lot of manual labour.</li>
</ol>
<h3><a class="header" href="#project-parent--root-pom" id="project-parent--root-pom">Project parent / root POM</a></h3>
<p>Hexatomic has a <a href="https://github.com/hexatomic/hexatomic/tree/master/pom.xml">root POM</a>, i.e., to build the entire project, a single Maven command, e.g., <code>mvn clean verify</code>, in the root folder is enough.</p>
<h3><a class="header" href="#target-platform" id="target-platform">Target platform</a></h3>
<p>tpd</p>
<h2><a class="header" href="#documentation" id="documentation">Documentation</a></h2>
<p>All folders that are parent folders shall contain a <code>README.md</code> file that explains the contents of the folder.</p>
<p><code>TODO FIXME BELOW</code></p>
<p>Other than that, cf. section on documentation!</p>
<p><code>TODO FIXME ABOVE</code></p>
<h1><a class="header" href="#data-model" id="data-model">Data model</a></h1>
<p>Hexatomic works on instances of a graph-based meta model for linguistic data called <strong>Salt</strong>.</p>
<p>In Salt, linguistic data is organized in projects: </p>
<ul>
<li>A <strong>Salt project</strong> contains at least one - and often only one - <strong>corpus graph</strong>.</li>
<li>A corpus graph contains <strong>corpora</strong> as nodes. </li>
<li>The child nodes of a corpus can again be corpora (so-called <em>sub-corpora</em>) and <strong>documents</strong>.</li>
<li>Each document has a <strong>document graph</strong>, which is the model element containing the actual linguistic data: 
<ul>
<li>primary data sources (text, audio, or video material), and</li>
<li>annotations.</li>
</ul>
</li>
</ul>
<p>Salt is very powerful in that it is theory-neutral and tagset-independent, and can model a vast variety of linguistic data and annotations.</p>
<p>To find out more about the Salt meta model for linguistic data and its Java API, please refer to the <a href="https://corpus-tools.org/salt">Salt homepage</a>, and the <a href="https://korpling.github.io/salt/doc/">Salt documentation</a>.</p>
<h2><a class="header" href="#accessing-the-data-model" id="accessing-the-data-model">Accessing the data model</a></h2>
<p>During runtime, Hexatomic operates on a single Salt project at any one time.
The currently opened Salt project is part of the global state of the application, and can be accessed by injecting an instance of the <code>ProjectManager</code> singleton into your code.
For an overview of how dependency injection works in Eclipse-based applications such as Hexatomic, see Lars Vogel's tutorial <a href="http://web.archive.org/web/20190807184652/https://www.vogella.com/tutorials/EclipseRCP/article.html#dependency-injection-and-eclipse">&quot;Dependency injection and Eclipse&quot;</a>.</p>
<pre><code class="language-java">import javax.inject.Inject;
import org.corpus_tools.hexatomic.core.ProjectManager;
import org.corpus_tools.salt.common.SaltProject;

public class MyClass {
	
	@Inject
	private ProjectManager projectManager;
	
	public void execute() {
		SaltProject theProject = projectManager.getProject();
	}
}
</code></pre>
<p>You can register for any changes on the Salt project (e.g., added annotations to a document), by adding a <em>Salt notification listener</em> to the project manager using its <code>addListener(Listener listener)</code> function.
For more information on Salt notification listener's, see the <a href="https://korpling.github.io/salt/doc/notification.html">Salt notification documentation</a>.
After registering your listener, you will receive <em>all</em> updates for <em>all</em> documents and <em>all</em> changes to the project structure.
You have to decide in your own code if you need to handle an update, e.g., because it is related to a document you are editing for which the event should trigger a redraw of the editor you are implementing.</p>
<h1><a class="header" href="#logging-and-error-handling" id="logging-and-error-handling">Logging and error handling</a></h1>
<h2><a class="header" href="#logging" id="logging">Logging</a></h2>
<p>Hexatomic uses the SLF4J logging API to log messages.
To enable a logger for a specific class, create a static final variable which holds the class-specific logging object.</p>
<pre><code class="language-java">private static final org.slf4j.Logger log = 
	org.slf4j.LoggerFactory.getLogger(MyClass.class);
</code></pre>
<p>You can use this <code>log</code> object everwhere in the code to output debug, info, warning or error messages to the console or to the log files. </p>
<pre><code class="language-java">int counter = 101;
log.debug(&quot;Selecting created document {}.&quot;, 101);
</code></pre>
<p>See the <a href="https://www.slf4j.org/manual.html">SLF4J manual</a> for more information on the API.</p>
<p>To implement the API, we use the <a href="https://logback.qos.ch/">Logback library</a> in the <code>org.corpus_tools.hexatomic.core</code> bundle.
For testing and debugging purposes, there is a <code>logback-test.xml</code> file in the root of the logging bundle. 
This configuration file is loaded whenever Hexatomic is started from Eclipse using the Debug/Run configuration and will output messages on the <code>debug</code> level.
When compiling the Hexatomic product, the file <code>logback.xml</code> is copied to the product root directory and loaded from there.
This allows a user/developer to customize the logging on their own, even when using a published binary artifact instead of debugging directly from the Eclipse IDE.
Per default, only messages from the <code>info</code> level and above are printed to the command line.
See the <a href="https://logback.qos.ch/manual/configuration.html">Logback documentation</a> how to write or adapt this file.</p>
<h2><a class="header" href="#handling-exceptions" id="handling-exceptions">Handling exceptions</a></h2>
<p>The core bundle exports the special <code>org.corpus_tools.hexatomic.core.errors.ErrorService</code> service which should be used to display error messages to the user.</p>
<p>To report an exception, simply call the <code>handleException(...)</code> function of the service with an error message, the exception object, and the class of the caller, i.e., the class in which you catch the exception.</p>
<pre><code class="language-java">project = SaltFactory.createSaltProject();
try {
	project.loadCorpusStructure(path);
} catch (SaltException ex) {
	// In this example the calling function is part of the ProjectManager class.
	errorService.handleException(&quot;Cannot load project from &quot; + path.toString(), ex, 
		ProjectManager.class);
}
</code></pre>
<p>This will produce the exception dialog shown below.
It includes the error message, and a stack trace which the user can inspect by expanding &quot;Details&quot; (which is initially hidden).</p>
<p><img src="development/./exception-dialog.png" alt="An example for an exception dialog" /></p>
<p>In addition to the dialog, a log entry is added.
This log entry uses the logger for the caller class which has been passed to the <code>handleException(...)</code> method.</p>
<pre><code class="language-plain">18:52:54.324 [main] ERROR o.c.h.c.ProjectManager - Exception occured: Could not load salt project from file:/tmp
org.corpus_tools.salt.exceptions.SaltResourceException: Can not load SaltProject, because path '/tmp/saltProject.salt' does not exist. 
	at org.corpus_tools.salt.util.SaltUtil.loadSaltProject(SaltUtil.java:835) ~[org.corpus-tools.salt-api_3.3.8.20190808115214.jar:na]
	at org.corpus_tools.salt.common.impl.SaltProjectImpl.loadCorpusStructure(SaltProjectImpl.java:148) ~[org.corpus-tools.salt-api_3.3.8.20190808115214.jar:na]
	at org.corpus_tools.hexatomic.core.ProjectManager.open(ProjectManager.java:108) ~[org.corpus_tools.hexatomic.core/:na]
	at org.corpus_tools.hexatomic.core.handlers.OpenSaltProjectHandler.execute(OpenSaltProjectHandler.java:26) [org.corpus_tools.hexatomic.core/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_232-ea]
</code></pre>
<h2><a class="header" href="#showing-error-messages" id="showing-error-messages">Showing error messages</a></h2>
<p>If an error does not originate from an exception, you can use the <code>showError(...)</code> function of the error service to display a dialog.
This function takes an optional dialog title, the error message, and the class of the caller as arguments, as shown in the following example.</p>
<pre><code class="language-java">if (hasChildren) {
	errorService.showError(&quot;Error when deleting (sub-) corpus&quot;,
			&quot;Before deleting a (sub-) corpus, first delete all its child elements.&quot;, this.getClass());
	return;
}
</code></pre>
<p>This produces both an error dialog and a logging output (without stack trace).</p>
<p><img src="development/./error-dialog.png" alt="An example for an error dialog" /></p>
<pre><code class="language-plain">19:03:26.013 [main] ERROR o.c.h.c.CorpusStructureView$8 - Error when deleting (sub-) corpus: Before deleting a (sub-) corpus, first delete all its child elements.
</code></pre>
<h1><a class="header" href="#adding-a-new-editor" id="adding-a-new-editor">Adding a new editor</a></h1>
<p>Following the principle of &quot;<a href="https://en.wikipedia.org/wiki/Separation_of_concerns">separation of concerns</a>&quot;, editors should generally be developed in separate, dedicated bundles in the <code>bundles</code> directory of the project.
Exceptions to this rule should be based on compelling reasons for including an editor in an existing bundle project.
Reasons may include, for example, that the architectural overhead for creating a very simple editor may be too high.
In cases of uncertainty, follow the rule that changes to software should keep the maintenance effort in proportion to the benefit of the change, and generally as small as possible.</p>
<p>In Eclipse 4, additions to the user interface are organized in so-called <a href="http://web.archive.org/web/20190807184652/https://www.vogella.com/tutorials/EclipseRCP/article.html#parts">Parts</a>.
A part consists of two components:</p>
<ul>
<li>a <code>PartDescriptor</code> entry in the <code>fragment.e4xmi</code> file of the bundle containing the new editor, and </li>
<li>the actual Java class implementing the behavior.</li>
</ul>
<h2><a class="header" href="#adding-a-minimal-java-class" id="adding-a-minimal-java-class">Adding a minimal Java class</a></h2>
<p>Add a Java class to your bundle project.
This class does not need to inherit any interface, but should have a method with the <code>@PostConstruct</code> annotation.</p>
<pre><code class="language-java">public class TextViewer {
	@PostConstruct
	public void postConstruct(Composite parent, MPart part, ProjectManager projectManager) { 
		// TODO: add actual editor implementation
	}
}
</code></pre>
<p>This example injects the SWT <code>parent</code> composite which can be used to construct user interface elements and the <code>part</code> parameter, which describes the application model for this part.</p>
<p>SWT (&quot;Standard Widget Toolkit&quot;) is the default user interface widgets toolkit for Eclipse-based applications, such as Hexatomic, and is used in this example.
For more information, see the <a href="http://web.archive.org/web/20191025084609/https://www.eclipse.org/swt/">Eclipse SWT project website</a>.
For information on the application model of Eclipse-based applications, see the <a href="https://web.archive.org/web/20180128210911/https://wiki.eclipse.org/Eclipse4/RCP/Modeled_UI">Eclipse Wiki page on the UI model</a>.</p>
<p>The <code>projectManager</code> is an Hexatomic specific service that provides access to the global Salt project which is currently loaded.</p>
<p>Note that you can directly add the SWT instructions to define your user interface in the code, or use the <a href="https://www.eclipse.org/windowbuilder/">Eclipse Window Builder</a>, which is a graphical editor for user interfaces based on SWT (and other technologies).</p>
<h2><a class="header" href="#adding-a-part-to-the-application-model" id="adding-a-part-to-the-application-model">Adding a part to the application model</a></h2>
<p>To add the newly created class to the Eclipse RCP 4 application model, open the <code>fragment.e4xmi</code> file of the existing bundle, or create a new one via the <code>File -&gt; New -&gt; Other</code> menu and choose &quot;New Model Fragment&quot;.</p>
<p><img src="development/./new-model-fragment-file.png" alt="Adding a new fragment model file" /></p>
<p>In the fragment editor, add a new model fragment by selecting &quot;Model fragments&quot; and clicking on the &quot;Add&quot; button.</p>
<p><img src="development/./new-model-fragment.png" alt="Adding a new model fragment in the editor" /></p>
<p>Edit the model fragment properties by selecting the newly created entry.
Make sure to set the extended element ID to <code>xpath:/</code>and the feature name to <code>descriptors</code> (1).
This means that the model fragment extends the part descriptors of the application.
Then, add a new part descriptor with the <code>Add</code> button (2). </p>
<p><img src="development/./add-model-fragment-descriptor.png" alt="Edit model fragment properties" /></p>
<p>Select the new part descriptor in the model fragment editor and you can edit several properties, such as the caption of the part, or an icon.
Make sure to set the &quot;Class URI&quot; field to the newly created editor class.
You can use the &quot;Find&quot; button to navigate the workspace and insert the proper value.
Also, the &quot;Category&quot; must be set to <code>org.corpus_tools.hexatomic.tag.editor</code> to mark that this part is an Hexatomic editor. 
The <code>Label</code> field will be used as a name for the editor, for example in a menu from which the user will choose one of the editors available to open a document with.</p>
<p><img src="development/./part-descriptor-class.png" alt="Part descriptor general properties" /></p>
<h2><a class="header" href="#getting-the-associated-salt-document-to-display" id="getting-the-associated-salt-document-to-display">Getting the associated Salt document to display</a></h2>
<p>When an editor part is created, it is initialized with a state. 
This state can hold internal configurations, but also contains the ID of the associated Salt document that this editor should edit.
The actual ID is set to the editor part's state in the class handling user actions to open a Salt document, <code>org.corpus_tools.hexatomic.core.handlers.OpenSaltDocumentHandler</code>.</p>
<!-- TODO Add link to API docs for this class on GitHub Pages once they exist. -->
<p>It is stored in the part state in a setting with the name <code>org.corpus_tools.hexatomic.document-id</code>.
The injected <code>ProjectManager</code> can then be used to get the actual document.</p>
<pre><code class="language-java">String documentID = part.getPersistedState()
	.get(&quot;org.corpus_tools.hexatomic.document-id&quot;);
Optional&lt;SDocument&gt; doc = projectManager.getDocument(documentID);
</code></pre>
<h1><a class="header" href="#maintenance" id="maintenance">Maintenance</a></h1>
<h2><a class="header" href="#gitflow" id="gitflow">GitFlow</a></h2>
<!-- TODO -->
<h2><a class="header" href="#continuous-integration" id="continuous-integration">Continuous integration</a></h2>
<!-- TODO -->
<h2><a class="header" href="#pull-requests" id="pull-requests">Pull Requests</a></h2>
<!-- TODO -->
<h2><a class="header" href="#releases" id="releases">Releases</a></h2>
<!-- TODO --><h1><a class="header" href="#versioning" id="versioning">Versioning</a></h1>
<p>Hexatomic adheres to <a href="https://semver.org/">Semantic Versioning 2.0.0</a>.</p>
<p>Versions take the form of <code>MAJOR.MINOR.PATCH</code>.</p>
<ul>
<li><code>MAJOR</code> versions are incompatible with each other. <code>MAJOR</code> is incremented, when an incompatible API change is introduced.</li>
<li><code>MINOR</code> versions add &quot;features&quot;, i.e., backwards-compatible functionality.</li>
<li><code>PATCH</code> versions add backwards-compatible bug fixes.</li>
</ul>
<h2><a class="header" href="#versioning-of-product-features-and-modules" id="versioning-of-product-features-and-modules">Versioning of product, features, and modules</a></h2>
<p>Hexatomic is complex software: It consists of modules which are bundled in features.
The actual software product deliverable is again made up of several features.</p>
<!-- TODO See sections Architecture & terminology for details. -->
<p>Despite this, we apply a unified versioning scheme for Hexatomic.
This means that changes on any level of modularity (module, feature, product) triggers
a change in the unified version number.</p>
<h3><a class="header" href="#examples" id="examples">Examples:</a></h3>
<ul>
<li>A bug in a module is fixed. <em>All</em> version numbers in the Hexatomic product, <em>all</em> of its features
and <em>all</em> of its bundles increment the <code>PATCH</code> identifier.</li>
<li>A new module - developed by Hexatomic contributors or a third-party module - is added to a feature.
The module adds new functionality to Hexatomic. <em>All</em> version numbers in the Hexatomic product, <em>all</em> of its features
and <em>all</em> of its bundles increment the <code>MINOR</code> identifier.</li>
</ul>
<h2><a class="header" href="#scope" id="scope">Scope</a></h2>
<p>The versioning scheme described above applies to Hexatomic as present in the <a href="https://github.com/hexatomic/hexatomic">hexatomic/hexatomic repository on GitHub</a>.
It does not automatically apply to contributions which live in other repositories.</p>
<h1><a class="header" href="#licensing" id="licensing">Licensing</a></h1>
<p>This section describes how licensing is handled in Hexatomic.</p>
<h2><a class="header" href="#what-licenses-is-hexatomic-licensed-under" id="what-licenses-is-hexatomic-licensed-under">What licenses is Hexatomic licensed under?</a></h2>
<p>The Hexatomic software is licensed under the Apache License, Version 2.0.
Read <a href="http://web.archive.org/web/20191017082353/http://www.apache.org/licenses/LICENSE-2.0">the whole license text</a> to learn more about the license.</p>
<p>The Hexatomic documentation is licensed under a <a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0 1.0 Universal (CC0 1.0)</a> license. 
See the <a href="maintenance/licensing/../../LICENSE.html">License page</a> for more information.</p>
<h2><a class="header" href="#automating-the-fulfillment-of-license-requirements" id="automating-the-fulfillment-of-license-requirements">Automating the fulfillment of license requirements</a></h2>
<p>In order to make it easier to maintain the licenses for Hexatomic and its dependencies, 
we automate the fulfillment of license requirements.</p>
<p>For this, Hexatomic includes the Maven License Plugin from MojoHaus in the build. 
You can read about the plugin on the <a href="http://www.mojohaus.org/license-maven-plugin/index.html">Maven License Plugin website</a>.</p>
<h1><a class="header" href="#pull-requests-1" id="pull-requests-1">Pull requests</a></h1>
<h3><a class="header" href="#working-with-pull-requests-prs" id="working-with-pull-requests-prs">Working with pull requests (PRs)</a></h3>
<ul>
<li>To include <strong>pull requests</strong> in the repository, do <code>Rebase and merge</code> rather than the other merging options on GitHub.</li>
<li>You can change the pull request template in the file <code>.github/PULL_REQUEST_TEMPLATE.md</code></li>
</ul>
<h1><a class="header" href="#checklist-for-handling-pull-requests" id="checklist-for-handling-pull-requests">Checklist for handling pull requests</a></h1>
<ol>
<li><input disabled="" type="checkbox"/>
Make sure that the pull request is against the correct branch
<ul>
<li>New API is requested to be merged into <code>develop</code></li>
<li>Bug fixes are requested to be merged into <code>master</code></li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
Check everything is there [<strong>TODO</strong>, documentation, tests, correct version number, etc.]</li>
<li><input disabled="" type="checkbox"/>
Use the <strong>Rebase and merge</strong> option to merge the pull request</li>
<li><input disabled="" type="checkbox"/>
Pull the </li>
</ol>
<h1><a class="header" href="#releases-1" id="releases-1">Releases</a></h1>
<h1><a class="header" href="#checklist" id="checklist">Checklist</a></h1>
<h1><a class="header" href="#governance" id="governance">Governance</a></h1>
<p>The decision-making processes for the Hexatomic project are described in the <a href="https://github.com/hexatomic/hexatomic/tree/develop/CONTRIBUTING.md">contributing guidelines in the main Hexatomic repository</a>.</p>
<h1><a class="header" href="#license-1" id="license-1">License</a></h1>
<p><img src="https://img.shields.io/badge/CC0-1.0%20Universal-yellowgreen?logo=creative-commons" alt="" /><br />
With the exception of the content listed below, this documentation is licensed under a <a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0 1.0 Universal (CC0 1.0)</a> license.</p>
<h2><a class="header" href="#content-excepted-from-the-cc0-10-universal-license" id="content-excepted-from-the-cc0-10-universal-license">Content excepted from the CC0 1.0 Universal license</a></h2>
<ul>
<li><strong>Git branching model</strong> graphic in section <a href="./development/workflow/#the-gitflow-branching-model">Workflow</a> by Vincent Driessen from the original blog post <a href="http://nvie.com/archives/323">&quot;A successful Git branching model&quot;</a> is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA license</a>.<br />
<img src="https://img.shields.io/badge/CC-BY%20SA-yellowgreen?logo=creative-commons" alt="" /></li>
</ul>
<h2><a class="header" href="#cc0-10-universal-legal-code" id="cc0-10-universal-legal-code">CC0 1.0 Universal legal code</a></h2>
<pre><code class="language-txt">Creative Commons Legal Code

CC0 1.0 Universal

    CREATIVE COMMONS CORPORATION IS NOT A LAW FIRM AND DOES NOT PROVIDE
    LEGAL SERVICES. DISTRIBUTION OF THIS DOCUMENT DOES NOT CREATE AN
    ATTORNEY-CLIENT RELATIONSHIP. CREATIVE COMMONS PROVIDES THIS
    INFORMATION ON AN &quot;AS-IS&quot; BASIS. CREATIVE COMMONS MAKES NO WARRANTIES
    REGARDING THE USE OF THIS DOCUMENT OR THE INFORMATION OR WORKS
    PROVIDED HEREUNDER, AND DISCLAIMS LIABILITY FOR DAMAGES RESULTING FROM
    THE USE OF THIS DOCUMENT OR THE INFORMATION OR WORKS PROVIDED
    HEREUNDER.

Statement of Purpose

The laws of most jurisdictions throughout the world automatically confer
exclusive Copyright and Related Rights (defined below) upon the creator
and subsequent owner(s) (each and all, an &quot;owner&quot;) of an original work of
authorship and/or a database (each, a &quot;Work&quot;).

Certain owners wish to permanently relinquish those rights to a Work for
the purpose of contributing to a commons of creative, cultural and
scientific works (&quot;Commons&quot;) that the public can reliably and without fear
of later claims of infringement build upon, modify, incorporate in other
works, reuse and redistribute as freely as possible in any form whatsoever
and for any purposes, including without limitation commercial purposes.
These owners may contribute to the Commons to promote the ideal of a free
culture and the further production of creative, cultural and scientific
works, or to gain reputation or greater distribution for their Work in
part through the use and efforts of others.

For these and/or other purposes and motivations, and without any
expectation of additional consideration or compensation, the person
associating CC0 with a Work (the &quot;Affirmer&quot;), to the extent that he or she
is an owner of Copyright and Related Rights in the Work, voluntarily
elects to apply CC0 to the Work and publicly distribute the Work under its
terms, with knowledge of his or her Copyright and Related Rights in the
Work and the meaning and intended legal effect of CC0 on those rights.

1. Copyright and Related Rights. A Work made available under CC0 may be
protected by copyright and related or neighboring rights (&quot;Copyright and
Related Rights&quot;). Copyright and Related Rights include, but are not
limited to, the following:

  i. the right to reproduce, adapt, distribute, perform, display,
     communicate, and translate a Work;
 ii. moral rights retained by the original author(s) and/or performer(s);
iii. publicity and privacy rights pertaining to a person's image or
     likeness depicted in a Work;
 iv. rights protecting against unfair competition in regards to a Work,
     subject to the limitations in paragraph 4(a), below;
  v. rights protecting the extraction, dissemination, use and reuse of data
     in a Work;
 vi. database rights (such as those arising under Directive 96/9/EC of the
     European Parliament and of the Council of 11 March 1996 on the legal
     protection of databases, and under any national implementation
     thereof, including any amended or successor version of such
     directive); and
vii. other similar, equivalent or corresponding rights throughout the
     world based on applicable law or treaty, and any national
     implementations thereof.

2. Waiver. To the greatest extent permitted by, but not in contravention
of, applicable law, Affirmer hereby overtly, fully, permanently,
irrevocably and unconditionally waives, abandons, and surrenders all of
Affirmer's Copyright and Related Rights and associated claims and causes
of action, whether now known or unknown (including existing as well as
future claims and causes of action), in the Work (i) in all territories
worldwide, (ii) for the maximum duration provided by applicable law or
treaty (including future time extensions), (iii) in any current or future
medium and for any number of copies, and (iv) for any purpose whatsoever,
including without limitation commercial, advertising or promotional
purposes (the &quot;Waiver&quot;). Affirmer makes the Waiver for the benefit of each
member of the public at large and to the detriment of Affirmer's heirs and
successors, fully intending that such Waiver shall not be subject to
revocation, rescission, cancellation, termination, or any other legal or
equitable action to disrupt the quiet enjoyment of the Work by the public
as contemplated by Affirmer's express Statement of Purpose.

3. Public License Fallback. Should any part of the Waiver for any reason
be judged legally invalid or ineffective under applicable law, then the
Waiver shall be preserved to the maximum extent permitted taking into
account Affirmer's express Statement of Purpose. In addition, to the
extent the Waiver is so judged Affirmer hereby grants to each affected
person a royalty-free, non transferable, non sublicensable, non exclusive,
irrevocable and unconditional license to exercise Affirmer's Copyright and
Related Rights in the Work (i) in all territories worldwide, (ii) for the
maximum duration provided by applicable law or treaty (including future
time extensions), (iii) in any current or future medium and for any number
of copies, and (iv) for any purpose whatsoever, including without
limitation commercial, advertising or promotional purposes (the
&quot;License&quot;). The License shall be deemed effective as of the date CC0 was
applied by Affirmer to the Work. Should any part of the License for any
reason be judged legally invalid or ineffective under applicable law, such
partial invalidity or ineffectiveness shall not invalidate the remainder
of the License, and in such case Affirmer hereby affirms that he or she
will not (i) exercise any of his or her remaining Copyright and Related
Rights in the Work or (ii) assert any associated claims and causes of
action with respect to the Work, in either case contrary to Affirmer's
express Statement of Purpose.

4. Limitations and Disclaimers.

 a. No trademark or patent rights held by Affirmer are waived, abandoned,
    surrendered, licensed or otherwise affected by this document.
 b. Affirmer offers the Work as-is and makes no representations or
    warranties of any kind concerning the Work, express, implied,
    statutory or otherwise, including without limitation warranties of
    title, merchantability, fitness for a particular purpose, non
    infringement, or the absence of latent or other defects, accuracy, or
    the present or absence of errors, whether or not discoverable, all to
    the greatest extent permissible under applicable law.
 c. Affirmer disclaims responsibility for clearing rights of other persons
    that may apply to the Work or any use thereof, including without
    limitation any person's Copyright and Related Rights in the Work.
    Further, Affirmer disclaims responsibility for obtaining any necessary
    consents, permissions or other rights required for any use of the
    Work.
 d. Affirmer understands and acknowledges that Creative Commons is not a
    party to this document and has no duty or obligation with respect to
    this CC0 or use of the Work.
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
